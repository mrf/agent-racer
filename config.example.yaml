# Agent Racer Configuration Example
# Copy this to ~/.config/agent-racer/config.yaml to customize settings

server:
  port: 8080
  host: "127.0.0.1"
  # Optional: CORS allowed origins (empty = same-origin only)
  allowed_origins: []
  # Optional: Authentication token (empty = no auth required)
  auth_token: ""

# Session source configuration
sources:
  claude: true        # Claude Code session monitoring (default: enabled)
  codex: false        # OpenAI Codex CLI monitoring (default: disabled, pre-alpha)
  gemini: false       # Google Gemini CLI monitoring (default: disabled, pre-alpha)

monitor:
  # How often to poll agent sources for updates
  poll_interval: 1s
  # How often to take snapshot broadcasts
  snapshot_interval: 5s
  # Minimum time between broadcast updates
  broadcast_throttle: 100ms
  # When to mark a session as stale
  session_stale_after: 2m
  # When to remove completed sessions from display
  completion_remove_after: 8s
  # Directory to store session end markers (XDG_STATE_HOME/agent-racer/session-end by default)
  session_end_dir: ""
  # CPU threshold (%) for detecting active processing (churning state)
  churning_cpu_threshold: 15.0
  # If true, only consider churning when both CPU and TCP connections are active
  churning_requires_network: false

# Model context token limits
models:
  # Claude models
  claude-opus-4-5-20251101: 200000
  claude-sonnet-4-5-20250929: 200000
  claude-sonnet-4-20250514: 200000
  claude-haiku-3-5-20241022: 200000
  # Codex models (fallback; Codex reports context window dynamically)
  gpt-5-codex: 272000
  gpt-5.1-codex: 272000
  gpt-5.2-codex: 272000
  # Gemini models (fallback; all current Gemini models use ~1M)
  gemini-2.5-pro: 1048576
  gemini-2.5-flash: 1048576
  gemini-2.0-flash: 1048576
  # Default fallback
  default: 200000

# Sound settings
sound:
  # Master enable/disable for all sounds
  enabled: true
  # Master volume (0.0 - 1.0)
  master_volume: 1.0
  # Ambient sounds volume (crowd, wind, engine hums)
  ambient_volume: 1.0
  # Sound effects volume (gear shift, victory, crash, etc.)
  sfx_volume: 1.0
  # Enable/disable ambient sounds independently
  enable_ambient: true
  # Enable/disable sound effects independently
  enable_sfx: true
