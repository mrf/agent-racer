{"id":"agent-racer-1gd","title":"Restrict server exposure (localhost default, origin checks, optional auth)","description":"Default host is 0.0.0.0 and WS CheckOrigin is permissive. Change defaults to localhost, implement origin allowlist (configurable), and add optional auth token/flag to reduce LAN exposure.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:30:58.755781244-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T16:42:26.22073574-08:00","closed_at":"2026-01-31T16:42:26.22073574-08:00","close_reason":"Closed"}
{"id":"agent-racer-2w0","title":"Switching model with selector creates new car instead of updating existing car label","description":"When switching models using the model selector, the application creates a whole new car instead of changing the label on the existing car to reflect the new model name.","status":"open","priority":2,"issue_type":"bug","owner":"markferree@gmail.com","created_at":"2026-02-02T09:41:48.185092652-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:41:48.185092652-08:00"}
{"id":"agent-racer-3gp","title":"Show model name alongside directory label above each car","description":"Update racer label to include model family/name next to the directory/session name (above the car) while keeping existing badges. Ensure layout remains readable.","status":"closed","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:58:50.948447465-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:52:49.516446995-08:00","closed_at":"2026-02-02T09:52:49.516446995-08:00","close_reason":"Closed"}
{"id":"agent-racer-3mu","title":"Define unified session source interface","description":"Create backend/internal/monitor/sources interface (Discover/Parse/Metadata) and shared ParseResult/SessionHandle types to support Claude/Codex/Gemini.","notes":"Modularity: define source interface so backend parsing is reusable by any UI; avoid duplicating parsing/state logic per agent.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:46:32.149129125-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T11:55:50.95845188-08:00","closed_at":"2026-02-01T11:55:50.95845188-08:00","close_reason":"Created source.go with Source interface, SessionHandle, and SourceUpdate types"}
{"id":"agent-racer-5mr","title":"Add SourceUpdate.MaxContextTokens for dynamic context ceiling","description":"Currently MaxContextTokens is resolved entirely from config.yaml model name lookup. Sources should be able to report the context ceiling directly via SourceUpdate if they discover it from session data (e.g., a max_tokens field in Codex token_count events, or Gemini model metadata). Add an optional MaxContextTokens field to SourceUpdate. When non-zero, the monitor should prefer it over the static config lookup. This decouples context window sizing from hardcoded config and handles new/unknown models gracefully.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-02-01T17:37:26.124306688-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T17:39:20.618019983-08:00","closed_at":"2026-02-01T17:39:20.618019983-08:00","close_reason":"Added MaxContextTokens field to SourceUpdate. Monitor prefers source-reported value over static config when non-zero."}
{"id":"agent-racer-5wh","title":"Implement FILE-SESSION-PLAN.md","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:05:12.552086611-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T17:14:53.797896592-08:00","closed_at":"2026-01-31T17:14:53.797896592-08:00","close_reason":"Closed"}
{"id":"agent-racer-617","title":"Sanitize detail panel rendering","description":"Detail panel uses innerHTML with workingDir/session fields. Switch to textContent or escape values to avoid HTML injection from directory names.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:32:20.505271444-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T11:52:01.408230003-08:00","closed_at":"2026-02-01T11:52:01.408230003-08:00","close_reason":"Escaped all user-controlled strings in innerHTML template with esc() helper"}
{"id":"agent-racer-693","title":"Implement Gemini source ingestion","description":"Add GeminiSource implementation (Discover/Parse/Metadata). Requires research results from agent-racer-7jo and interface from agent-racer-3mu. Add fixtures/tests.","notes":"Modularity: implement Gemini source as plug-in to shared Source interface; avoid duplicating monitor/state logic.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:47:12.319610632-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T16:12:13.399039907-08:00","closed_at":"2026-02-01T16:12:13.399039907-08:00","close_reason":"Implemented GeminiSource with full JSON re-parse, SHA-256 hash-to-path lookup from process scanning, mtime-based skip for unchanged files.","dependencies":[{"issue_id":"agent-racer-693","depends_on_id":"agent-racer-7jo","type":"blocks","created_at":"2026-01-31T16:51:15.748633417-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-693","depends_on_id":"agent-racer-3mu","type":"blocks","created_at":"2026-01-31T16:51:29.042993798-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-6yt","title":"Replace detail popover with car-attached flyout showing full metadata","description":"On car click, show a flyout anchored to the car (not a global popover). Flyout should expand to display full metadata (working dir, session ID, timestamps, model, tokens, tool stats, etc.) and handle overflow/long text.","status":"open","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:59:44.274239742-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T16:59:44.274239742-08:00"}
{"id":"agent-racer-7jo","title":"Research Gemini CLI session/log storage","description":"Identify Gemini CLI local log/history paths, schema (tokens/model/tool usage), session identifiers, and working dir mapping. Document in docs/multiagent-sources.md.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:46:18.386231272-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T12:01:01.971346822-08:00","closed_at":"2026-02-01T12:01:01.971346822-08:00","close_reason":"Research complete, documented in docs/gemini-source-research.md. Key challenge: non-incremental JSON format and one-way project path hashing."}
{"id":"agent-racer-8cf","title":"Refactor monitor to aggregate multi-agent sources","description":"Replace single-source discovery with list of sources (Claude/Codex/Gemini). Track sessions by composite key, per-source offsets, and staleness. Depends on: agent-racer-3mu, agent-racer-wtc, agent-racer-7jo.","notes":"Modularity: aggregate sources via shared interface; keep monitor independent of frontend and avoid per-agent special cases where possible.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:46:45.563391955-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T16:12:02.389131283-08:00","closed_at":"2026-02-01T16:12:02.389131283-08:00","close_reason":"Refactored monitor to use []Source interface. ClaudeSource wraps existing JSONL parsing. Tracked sessions keyed by source:sessionID composite key.","dependencies":[{"issue_id":"agent-racer-8cf","depends_on_id":"agent-racer-3mu","type":"blocks","created_at":"2026-01-31T16:50:09.894130274-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-8cf","depends_on_id":"agent-racer-wtc","type":"blocks","created_at":"2026-01-31T16:50:22.336914705-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-8cf","depends_on_id":"agent-racer-7jo","type":"blocks","created_at":"2026-01-31T16:50:35.829990585-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-93n","title":"Use Claude SessionEnd hook to mark completion and remove racer after animation","description":"Integrate Claude Code SessionEnd hook as primary completion signal (keep idle timeout as fallback). When hook fires, trigger completion animation, then remove session from store/UI after a short TTL or explicit animation end. Update install/docs to configure hook.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T17:25:24.514790865-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T17:34:54.273478888-08:00","closed_at":"2026-01-31T17:34:54.273478888-08:00","close_reason":"Closed"}
{"id":"agent-racer-b4l","title":"Harden JSONL reader for large/partial lines","description":"Replace bufio.Scanner with streaming reader (bufio.Reader) to avoid 1MB line cap, handle partial writes, and only advance offsets after fully parsed lines. Ensure no data loss when last line lacks newline.","status":"closed","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:31:28.894856803-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:54:08.880318787-08:00","closed_at":"2026-02-02T09:54:08.880318787-08:00","close_reason":"Implemented streaming bufio.Reader for large lines and partial writes. Added comprehensive tests. All tests pass."}
{"id":"agent-racer-bxk","title":"Add privacy/filter controls for session metadata","description":"Expose config/UI options to hide working directories/session IDs or filter which sessions are broadcast (e.g., allowlist/denylist by path) to reduce accidental data leakage.","status":"open","priority":3,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:32:33.416855819-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T11:49:26.557632457-08:00"}
{"id":"agent-racer-ca4","title":"Multi-agent docs + validation checklist","description":"Document supported CLIs, config options, and runbook. Add manual validation checklist for 1 session of each CLI. Depends on agent-racer-wtc/7jo/8cf.","notes":"Modularity: document how backend can be used with alternative UIs and how to add new sources without duplication.","status":"open","priority":3,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:47:51.57741658-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T17:03:04.423161373-08:00","dependencies":[{"issue_id":"agent-racer-ca4","depends_on_id":"agent-racer-wtc","type":"blocks","created_at":"2026-01-31T16:52:34.15878088-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-ca4","depends_on_id":"agent-racer-7jo","type":"blocks","created_at":"2026-01-31T16:52:46.498876478-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-ca4","depends_on_id":"agent-racer-8cf","type":"blocks","created_at":"2026-01-31T16:52:59.024253652-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-ddt","title":"Use JSONL timestamps for LastActivityAt","description":"Monitor currently sets LastActivityAt to time.Now() on every poll. Instead, use the parsed JSONL entry timestamp (RFC3339) so the UI reflects real activity times.","status":"closed","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:32:07.681683558-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T16:13:46.494330887-08:00","closed_at":"2026-02-01T16:13:46.494330887-08:00","close_reason":"Addressed in monitor refactor: classifyActivityFromUpdate uses update.LastTime from parsed JSONL timestamps, only falling back to time.Now() when no timestamp is available."}
{"id":"agent-racer-dkv","title":"Detect context window size from Gemini session data","description":"Gemini models have context windows ranging from 32k to 1M+ tokens depending on model and configuration. Static config entries are unreliable. Investigate: (1) whether session JSON or usageMetadata includes a context limit field, (2) whether settings.json or CLI args expose the configured model's context size, (3) whether the Gemini API model metadata endpoint can be queried. Update GeminiSource to surface actual context ceiling. Current hardcoded 1M default causes race progress bars to appear nearly empty for short sessions.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-02-01T17:37:19.885493003-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T17:58:58.191060088-08:00","closed_at":"2026-02-01T17:58:58.191060088-08:00","close_reason":"Added geminiContextWindow() model-name lookup mirroring CLI tokenLimits.ts. Sets MaxContextTokens from model name.","dependencies":[{"issue_id":"agent-racer-dkv","depends_on_id":"agent-racer-5mr","type":"blocks","created_at":"2026-02-01T17:37:43.079839708-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-e3y","title":"Detect context window size from Codex session data","description":"Codex models have variable context windows (o3: 200k, o4-mini: 200k, gpt-5-codex: unknown, etc.) and new models ship frequently. Static config.yaml entries go stale fast. Investigate: (1) whether Codex rollout files or token_count events include a max_context or model_context_length field, (2) whether the OpenAI API model metadata can be queried at startup, (3) fallback: use the cumulative token count high-water mark as a floor estimate. Update CodexSource.Parse to surface the context ceiling if available, or add a model-metadata lookup at source init time.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-02-01T17:37:13.202275104-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T17:58:57.743225527-08:00","closed_at":"2026-02-01T17:58:57.743225527-08:00","close_reason":"Extracts model_context_window from Codex turn_started and token_count events. Updated config fallbacks.","dependencies":[{"issue_id":"agent-racer-e3y","depends_on_id":"agent-racer-5mr","type":"blocks","created_at":"2026-02-01T17:37:37.543092774-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-eih","title":"Make cars larger and add side decals with model + directory","description":"Enhancement: increase car size and render the model name + working directory on the side of the car (racing team/advertisement style), instead of only above. Ensure layout remains readable.","status":"in_progress","priority":3,"issue_type":"feature","owner":"markferree@gmail.com","created_at":"2026-02-01T18:15:50.522348734-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:37:45.625243164-08:00"}
{"id":"agent-racer-ewr","title":"Token normalization strategy for non-usage CLIs","description":"Define config + logic for agents without true usage counts (estimate tokens, message-count heuristic, label as estimated). Depends on research issues and multi-source aggregation.","notes":"Modularity: token normalization should be backend-only config/logic, not UI-specific; expose a clean field so alternate GUIs can reuse.","status":"open","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:47:38.886500065-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T17:02:50.037550021-08:00","dependencies":[{"issue_id":"agent-racer-ewr","depends_on_id":"agent-racer-wtc","type":"blocks","created_at":"2026-01-31T16:51:54.064657049-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-ewr","depends_on_id":"agent-racer-7jo","type":"blocks","created_at":"2026-01-31T16:52:07.800068455-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-ewr","depends_on_id":"agent-racer-8cf","type":"blocks","created_at":"2026-01-31T16:52:21.494416647-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-gef","title":"Implement TMUX-PLAN.md","description":"Implements tmux focus support. Note: multi-agent work introduces new sources + agent types; this tmux feature should target Claude only unless extended.","status":"open","priority":3,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:04:52.795808114-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T16:45:51.575960497-08:00"}
{"id":"agent-racer-iu7","title":"Improve session file selection \u0026 multi-session support","description":"Superseded by agent-racer-5wh (FILE-SESSION-PLAN.md). That plan replaces PID scanning and fixes multi-session selection, so this issue is redundant.","status":"closed","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:31:42.315070143-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T16:36:12.548136125-08:00","closed_at":"2026-01-31T16:36:12.548136125-08:00","close_reason":"Closed"}
{"id":"agent-racer-iuu","title":"Haiku model shows 'CLAUDE' instead of model name on car label","description":"When the Haiku model is selected, the car label displays 'CLAUDE' in all caps instead of showing the actual model name (e.g., 'Haiku'). This affects the UI display/readability.","status":"open","priority":2,"issue_type":"bug","owner":"markferree@gmail.com","created_at":"2026-02-02T09:39:57.96808213-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:39:57.96808213-08:00","dependencies":[{"issue_id":"agent-racer-iuu","depends_on_id":"agent-racer-2w0","type":"blocks","created_at":"2026-02-02T09:41:52.644462299-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-jhl","title":"Add agent type to session state + UI badges","description":"Add AgentType field to SessionState (claude/codex/gemini). Update frontend rendering to show badges/colors and optionally filter by agent type. Depends on multi-source work (agent-racer-8cf).","notes":"Backend Source field added to SessionState in monitor refactor. Remaining work: frontend badge/color rendering and agent type filtering.","status":"open","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:47:25.98119752-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T16:13:56.77004375-08:00","dependencies":[{"issue_id":"agent-racer-jhl","depends_on_id":"agent-racer-8cf","type":"blocks","created_at":"2026-01-31T16:51:41.633828393-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-k5q","title":"Create configuration file using .config standard directory mainly control sounds in v1","status":"open","priority":3,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:07:19.330009543-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T16:35:23.085782205-08:00"}
{"id":"agent-racer-ky7","title":"Differentiate completion vs crash/lost sessions","description":"Monitor currently marks any disappeared process as Complete. Add logic to detect abrupt exits and mark Lost/Errored (e.g., no recent assistant response, file parse errors, or exit without 'assistant' completion signals). Update UI/sound to reflect true failure states.","status":"open","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:31:55.210737792-08:00","created_by":"Mark Ferree","updated_at":"2026-01-31T16:31:55.210737792-08:00"}
{"id":"agent-racer-kzw","title":"Gemini sessions repeatedly re-tracked","description":"Monitor logs show repeated '[gemini] Tracking new session: 4e87e3cc' every second for a single session, indicating Gemini sessions are being treated as new each poll. Example log (2026-02-01 17:53:11-15): repeated Tracking new session entries for same session ID. Likely issue in Gemini source discovery/offset handling causing duplicate tracking.","status":"open","priority":1,"issue_type":"bug","owner":"markferree@gmail.com","created_at":"2026-02-01T17:54:28.432515714-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T17:54:28.432515714-08:00"}
{"id":"agent-racer-mhc","title":"Remove weird animation on bottom of racetrack","status":"closed","priority":3,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:04:17.606326927-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:52:39.08094973-08:00","closed_at":"2026-02-02T09:52:39.08094973-08:00","close_reason":"Removed crowd bobbing animation from bottom of racetrack"}
{"id":"agent-racer-pdi","title":"Consolidate frontend directories: The project currently has two 'frontend' directories: one at the root level and another at 'backend/internal/frontend/static'. This duplication can lead to confusion and potential inconsistencies. Consolidate these into a single, unified frontend directory to improve project clarity, maintainability, and reduce redundancy.","status":"open","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-02-01T17:41:40.719458316-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T17:41:40.719458316-08:00"}
{"id":"agent-racer-tpf","title":"Consolidate frontend directories: The project currently has two 'frontend' directories: one at the root level and another at 'backend/internal/frontend/static'. This duplication can lead to confusion and potential inconsistencies. Consolidate these into a single, unified frontend directory to improve project clarity, maintainability, and reduce redundancy.","status":"closed","priority":2,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-02-01T17:43:05.43079103-08:00","created_by":"Mark Ferree","updated_at":"2026-02-02T09:43:05.237396076-08:00","closed_at":"2026-02-02T09:43:05.237396076-08:00","close_reason":"Duplicate of agent-racer-pdi"}
{"id":"agent-racer-wtc","title":"Research Codex (ChatGPT CLI) session/log storage","description":"Identify Codex CLI local log/history paths, schema (tokens/model/tool usage), session identifiers, and working dir mapping. Document in docs/multiagent-sources.md.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:46:04.925376514-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T12:00:28.156456275-08:00","closed_at":"2026-02-01T12:00:28.156456275-08:00","close_reason":"Research complete, documented in docs/codex-source-research.md"}
{"id":"agent-racer-wz2","title":"Implement Codex source ingestion","description":"Add CodexSource implementation (Discover/Parse/Metadata). Requires research results from agent-racer-wtc and interface from agent-racer-3mu. Add fixtures/tests.","notes":"Modularity: implement Codex source as plug-in to shared Source interface; avoid duplicating monitor/state logic.","status":"closed","priority":1,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:46:59.04483925-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T16:12:07.89227037-08:00","closed_at":"2026-02-01T16:12:07.89227037-08:00","close_reason":"Implemented CodexSource with new envelope and old bare format parsing, session discovery via ~/.codex/sessions/, token count extraction.","dependencies":[{"issue_id":"agent-racer-wz2","depends_on_id":"agent-racer-wtc","type":"blocks","created_at":"2026-01-31T16:50:50.426410608-08:00","created_by":"Mark Ferree"},{"issue_id":"agent-racer-wz2","depends_on_id":"agent-racer-3mu","type":"blocks","created_at":"2026-01-31T16:51:03.197187582-08:00","created_by":"Mark Ferree"}]}
{"id":"agent-racer-x8z","title":"Dynamic crowd noise tied to race excitement level","description":"Crowd/ambient noise should be reactive to what's happening on screen, not just on/off. Volume and intensity should scale with an 'excitement' heuristic based on: number of actively moving sessions (thinking/tool_use), sessions near the finish line (\u003e80% context), recent completions or crashes, and concurrent activity (multiple sessions racing at once). When nothing interesting is happening (all idle/waiting, single slow session), crowd noise should fade to silence or a very low murmur. When multiple sessions are active, approaching the finish, or crashing, the crowd should roar. Smooth transitions between levels â€” no abrupt volume jumps.","status":"open","priority":3,"issue_type":"task","owner":"markferree@gmail.com","created_at":"2026-01-31T16:05:35.632187699-08:00","created_by":"Mark Ferree","updated_at":"2026-02-01T12:09:34.275059236-08:00"}
